-- 형변환 함수 TO_CHAR, TO_NUMBER, TO_DATE
-- TO_CHAR(날짜, 날짜포멧)
SELECT * FROM EMPLOYEES WHERE HIRE_DATE >= '03/01/01'; -- 자동 형 변환

SELECT TO_CHAR(SYSDATE, 'YYYY/MM/DD HH:MI:SS') FROM DUAL;
SELECT TO_CHAR(SYSDATE, 'YY-MM-DD HH24:MI:SS') FROM DUAL;
SELECT TO_CHAR(SYSDATE, 'HH24:MI:SS') FROM DUAL;
SELECT TO_CHAR(SYSDATE, 'YYYY"년"') FROM DUAL; -- 날짜의 형식이 아닌 경우 ""묶어서 표현

SELECT FIRST_NAME,
       HIRE_DATE,
       TO_CHAR(HIRE_DATE, 'YY"년"-MM"월"-DD"일"') AS 입사일
FROM EMPLOYEES;

-- TO_CHAR(숫자, 숫자포멧)
-- 숫자포멧형식: 9, 0, ., ,
SELECT TO_CHAR(20000, '99999') FROM DUAL;
SELECT TO_CHAR(20000, '9999') FROM DUAL; -- 자리수가 부족하면 #
SELECT TO_CHAR(20000, '099999999') FROM DUAL; -- 9자리(0으로 채움)
SELECT TO_CHAR(20000.14, '99999.999') FROM DUAL; -- 소수부 3자리까지 표현
SELECT TO_CHAR(20000.314, 'L999,999.999') FROM DUAL; -- 화폐기호 AND 쉼표

SELECT FIRST_NAME, TO_CHAR(SALARY * 1300.34, 'L999,999,999') AS 원화
FROM EMPLOYEES;

-- TO_NUMBER(문자, 포멧형식)
SELECT '2000' - 2000 FROM DUAL; -- 문자가 숫자형식으로만 이루어져 있으면 자동 형변환
SELECT TO_NUMBER('2000') - 2000 FROM DUAL; -- 명시적 형변환
SELECT TO_NUMBER('$3,300.123', '$9,999.999') - 2300.333 FROM DUAL; -- 숫자 FMT형식을 가지고 있다면, 명시적 형변환 가능

-- TO_DATE(문자, 날짜포멧형식)
SELECT TO_DATE('2021-12-28') FROM DUAL; -- 날짜형으로 형변환 가능
SELECT SYSDATE - TO_DATE('2021-12-28') FROM DUAL; -- 일수
SELECT SYSDATE - TO_DATE('2021-12-28', 'YYYY-MM-DD') FROM DUAL;

SELECT SYSDATE - TO_DATE('2021/12/25', 'YYYY/MM/DD') FROM DUAL;

SELECT SYSDATE - TO_DATE('2021-12-25 23:22:15', 'YYYY-MM-DD HH24:MI:SS') FROM DUAL;

-- 간단한 실습(아래값을 2005년12월12일 문자형식으로 변환)
SELECT '20051212' FROM DUAL;
SELECT TO_CHAR(TO_DATE('20051212', 'YYYYMMDD'), 'YYYY"년"MM"월"DD"일"') AS 답 FROM DUAL;
